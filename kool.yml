scripts:
  template: kool docker fireworkweb/fwd:v1.0 fwd template
  build-8.0:
    - docker build --pull -t kooldev/php:8.0 8.0
    - docker build --pull -t kooldev/php:8.0-prod 8.0-prod
    - docker build -t kooldev/php:8.0-nginx 8.0-nginx
    - docker build -t kooldev/php:8.0-nginx-prod 8.0-nginx-prod
  build-8.1:
    - docker build --pull -t kooldev/php:8.1 8.1
    - docker build --pull -t kooldev/php:8.1-prod 8.1-prod
    - docker build -t kooldev/php:8.1-nginx 8.1-nginx
    - docker build -t kooldev/php:8.1-nginx-prod 8.1-nginx-prod
  build-8.2:
    - docker build --pull -t kooldev/php:8.2 8.2
    - docker build --pull -t kooldev/php:8.2-prod 8.2-prod
    - docker build -t kooldev/php:8.2-nginx 8.2-nginx
    - docker build -t kooldev/php:8.2-nginx-prod 8.2-nginx-prod
  build:
    # parse templates
    - kool run template
    # build
    - kool run build-8.0
    - kool run build-8.1
    - kool run build-8.2
